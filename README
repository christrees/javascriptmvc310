Intent:  Test javascriptmvc 3.1.0 zip project
Goal: working spools site based javascriptmvc-3.1.0.zip
DateCreated: 2011.08.25
DateLast: 2011.08.25 <or look this stuff up on github repo history>

Resources:
WEB: http://js.javascriptmvc310/
WEB: http://js.javascriptmvc305/
FILE: C:\Users\ChrisT\workspace\javascriptmvc310
FILE: C:\Users\ChrisT\workspace\javascriptmvc305
GITHUB https://github.com/christrees/javascriptmvc310
OLD GITHUB https://github.com/christrees/javascriptmvc305

TESTING DOCS: 
	http://javascriptmvc.com/docs.html#&who=FuncUnit
	http://docs.jquery.com/QUnit

Spools STEPS: https://github.com/christrees/javascriptmvc305/tree/spools
======================================================================================
<<<<<<<<<<<<<<<<<
>>>>>STEP 1 - Setup 310
<<<<<<<<<<<<<<<<<
--Well... I was having an issue with some of the edit update in the old code <failed server updated>
--I was thinking it was broken somehere in the source or I had did something that messed it up
--SO.... I figure I'd just rewrite this from scratch using 3.1.0
--First pull the zip file https://github.com/downloads/jupiterjs/javascriptmvc/javascriptmvc-3.1.0.zip
--Expand to C:\Users\ChrisT\workspace\javascriptmvc310
--Put in this README
--Put in my .gitnore
C:\Users\ChrisT\workspace\javascriptmvc310>git init
--Create repo on GITHUB https://github.com/christrees/javascriptmvc310
C:\Users\ChrisT\workspace\javascriptmvc310>git remote add origin git@github.com:christrees/javascriptmvc310.git
--Lets commit this
--SAVE THIS README
C:\Users\ChrisT\workspace\javascriptmvc310>git add .
C:\Users\ChrisT\workspace\javascriptmvc310>git commit -m "first commit"
C:\Users\ChrisT\workspace\javascriptmvc310>git push origin master
<<<<<<<<<<<<<<<<<
>>>>>STEP 1 - TEST
<<<<<<<<<<<<<<<<<
Browse - https://github.com/christrees/javascriptmvc310
SUCCESS>>
<<<<<<<<<<<<<<<<<
>>>>>STEP 2 - Spools branch, WebServer Config and Spools App Gen
<<<<<<<<<<<<<<<<<
C:\Users\ChrisT\workspace\javascriptmvc310>git branch spools
C:\Users\ChrisT\workspace\javascriptmvc310>git checkout spools
--Edit httpd.conf
<VirtualHost *:80>
   DocumentRoot "C:\Users\ChrisT\workspace\javascriptmvc305"
   ServerName js.javascriptmvc305
#<FilesMatch "token" >
#    SetHandler application/x-httpd-php
#</FilesMatch>
   <Directory "C:\Users\ChrisT\workspace\javascriptmvc305">
       Options Indexes MultiViews FollowSymLinks
       AllowOverride All
       Order allow,deny
       Allow from all
   </Directory>
</VirtualHost>
--Edit hosts
127.0.0.1 js.javascriptmvc310 # javascriptmvc310 zip test
--Edit hosts on clients I'm using
192.168.1.174 js.javascriptmvc310 # javascriptmvc310 zip test
--RESTART WEBSERVER
--Do the javascriptmvc magic
C:\Users\ChrisT\workspace\javascriptmvc310>js jquery\generate\app spools
--<lots of spools files created in spools directory>
C:\Users\ChrisT\workspace\javascriptmvc310>js jquery\generate\scaffold Spools.Models.Token
--<lots of spools files created in spools directory>
--Lets commit this
--SAVE THIS README
C:\Users\ChrisT\workspace\javascriptmvc310>git add .
C:\Users\ChrisT\workspace\javascriptmvc310>git commit -m "Basic Spools App"
C:\Users\ChrisT\workspace\javascriptmvc310>git push origin spools
<<<<<<<<<<<<<<<<<
>>>>>STEP 3 - Test
<<<<<<<<<<<<<<<<<
Browse - http://js.javascriptmvc310/spools/spools.html
SUCCESS>>
<<<<<<<<<<<<<<<<<
>>>>>STEP 4 - Spools Models
<<<<<<<<<<<<<<<<<
--OK lets put in the CRUD models we know we need.
--EDIT spools.js
steal.plugins(	
	'jquery/controller',			// a widget factory
	'jquery/controller/subscribe',          // subscribe to OpenAjax.hub
	'jquery/view/ejs',			// client side templates
	'jquery/controller/view',		// lookup views with the controller's name
	'jquery/model',				// Ajax wrappers
//	'jquery/dom/fixture',			// simulated Ajax requests
	'jquery/dom/form_params')		// form data helper
	.css('spools')                          // loads styles
	.resources()				// 3rd party script's (like jQueryUI), in resources folder
	.models('token')			// loads files in models folder
	.controllers('token')			// loads files in controllers folder
	.views();
--That give us the basic crud... but we want to start fixing our server
--comment out the fixture above
--Now we mod token.js
	findAll: function( params, success, error ){
		$.ajax({
		//	url: '/token',
			url: 'spoolspps/token.php',
			type: 'get',
			dataType: 'json',
			data: params,
			success: this.callback(['wrapMany',success]),
			error: error,
			fixture: "//spools/fixtures/tokens.json.get" //calculates the fixture path from the url and type.
		});
	},
--Grab the server files from our old project and put them in 
C:\Users\ChrisT\workspace\javascriptmvc310\spools\spoolspps
 common.php, game.php, gameboard.ini, games.php, newboard.php, nukecookieandsession.php, token.php, tokens.php
--I'll have to remember details... but if we use the chrome dev tools we can see the message passing... once we get all the path
--and server stuff right we should see a list of the tokens for a board.
http://js.javascriptmvc310/spools/spools.html
--YUP... we've got a list of tokens for a game board.
--Now the only 'edit' we will make to the tokens will be a request to own the token by the viewing player.
--The way I was thinking about the logic is the user clicks on a token to request a change in ownership.
--The server grants the request if the current owner is the game.
--The short of all this on the 'client user' side is we only need 'update' which passes the token data element to the server.
--The server responds with the new data with the new resulting owner.
--Lets get the CRUD going for the game model now.
C:\Users\ChrisT\workspace\javascriptmvc310>js jquery\generate\scaffold Spools.Models.Game
--EDIT spools.js
steal.plugins(	
	'jquery/controller',			// a widget factory
	'jquery/controller/subscribe',          // subscribe to OpenAjax.hub
	'jquery/view/ejs',			// client side templates
	'jquery/controller/view',		// lookup views with the controller's name
	'jquery/model',				// Ajax wrappers
//	'jquery/dom/fixture',			// simulated Ajax requests
	'jquery/dom/form_params')		// form data helper
	.css('spools')                          // loads styles
	.resources()				// 3rd party script's (like jQueryUI), in resources folder
	.models('game','token')			// loads files in models folder
	.controllers('game','token')			// loads files in controllers folder
	.views();
--EDIT models\game.js
			url: 'spoolspps/game.php',
--OK... that works but we've got the same problem... guess it's in my issue??
--WOOPS... it's doing a put to games... forgot mod the url but it was passing the modded value... cool..
--EDIT models\game.js
--Change the url and make the update a post
--OK... I think I found my bug... I am not passing back the same id as the request... so the form really does not update because 
--it was expecting the model update of that id and not getting it...
--EDIT spoolspps\games.php
--Add the id as the key to the game array.  Use that key to pass back the game controller update event.
--EDIT models\game.js
--Need to add the correct AJAX for the create
--One question I have was both games.php and games\2 and games was working.... I must have set the apache to script as would think that would work otherwise
--Not an issue, just need to note it so when I go pushing to a server I don't forget.
--Well to review... we've got the users games setup and tokens setup.
--Lets commit this
--SAVE THIS README
C:\Users\ChrisT\workspace\javascriptmvc310>git add .
C:\Users\ChrisT\workspace\javascriptmvc310>git commit -m "STEP 4 - Spools Models"
C:\Users\ChrisT\workspace\javascriptmvc310>git push origin spools
<<<<<<<<<<<<<<<<<
>>>>>STEP 4 - TEST
<<<<<<<<<<<<<<<<<
Browse - http://js.javascriptmvc305/spools/spools.html
Edit user games
update user games
refresh
nuke the spools\spoolspps\*.spools and try again
<<<<<<<<<<<<<<<<<
>>>>>STEP 5 - Spools functional gameflow
<<<<<<<<<<<<<<<<<
--OK... Lets walk through Shayne's gameflow
--OUTLINE
>>>>GAME PHASE 1 - Creation <Official>
>>>>GAME PHASE 2 - Join Game <Player>
>>>>GAME PHASE 3 - Token Selection <Player>
>>>>GAME PHASE 4 - Manage Game <Official>
>>>>GAME PHASE 5 - End Game <Official>
--Details C:\Users\ChrisT\workspace\javascriptmvc310\spools\docs\SpoolsGameFlow
>>>>GAME PHASE 1 - Creation <Official>
	Connect via URL http://js.javascriptmvc310/spools/spools.html
	Select a Sport <drop down Baseball Football>
	*Enter name of Away Team (text field)
	*Enter name of Home Team (text field)
	Press Create Game button
>>>>GAME PHASE 2 - Join Game
	Connects via URL
	Screen shows a tab titled Join Game 
	Selects game 
	View game
>>>>GAME PHASE 3 - Token Selection
	Click on token image
	Call to database
	Place request for token
	If token already taken message returned
	If token available moniker is added to screen
>>>>GAME PHASE 4 - Manage Game <Official>
	Selects game like Player
	Official tab shows only for the owner
	Bottom buttons show <Start Game> <End Game>
	Clicks start game
	Call to database
	Rows/Columns randomized
	Tokens locked from further selection
	Score is adjusted with -/+ buttons
	Game status (innings/quarter)
>>>>GAME PHASE 5 - End Game <Official>
	Selects game like Player
	Official tab shows only for the owner 
	Clicks end game
	Call to database
	Identify winners
	Notify winners
---------------------------
--WORK Manual walkthrough
---------------------------
>>>>GAME PHASE 1 - Creation <Official>
	Connect via URL http://js.javascriptmvc310/spools/spools.html
DONE
	Select a Sport <drop down Baseball Football>
--OK... need to add a view that is a dropdown select for Type Sport. 
--EDIT spools\views\game\edit.ejs and spools\views\game\edit.ejs
--Add the dropdown input select for gametype
	*Enter name of Away Team (text field)
--Function is there but may need to change the view
	*Enter name of Home Team (text field)
--Function is there but may need to change the view
	Press Create Game button
--Function is there but may need to change the view
>>>>GAME PHASE 2 - Join Game
	Connects via URL
	Screen shows a tab titled Join Game 
--Function is there but may need to change add a view tag
--Yea... this I need to add a tag to the game list that changes the view of the tokens <the board view>
--Lets put that in.  Add a view link in the list view of games
--EDIT spools\views\game\show.ejs and add
	<a href='javascript://' class='view'>view</a>
--EDIT spools\controllers\game_controller.js and add the .view click handler
 /**
 *	 Handle's clicking on a game's view link.
 */
 '.view click': function( el ){
        $('.game').removeClass('gameselect');
        var curgame = el.closest('.game').model();
        $.cookie('DoDo', 'Dah');
        document.cookie = "idGameBrd="+ curgame['idGameBrd'] +"; path=/";
        Spools.Models.Token.findAll({}, function(data){
          $('#token').html(Spools.Controllers.Token.prototype.view('grid', {tokens:data, game:curgame} ));
        });
 },
 --OK... basically I was using gameselect to id the current displayed game... but not really using this yet.
 --Pick up the model of the associated game via the click .game tag
 --Set the cookie so the server knows which board to give me.
 --trigger the ajax request for the board and display the board of tokens
 --pass the responce to the gridview along with the current game model data
 --Well.. when I went to test this I ran into issues with the tokens edit... which I think are the issues I solved with
 --games, I just didn't know I had them with tokens until now, so lets go clean up the token edit update stuff.
 --Yea... I only worked with the grid view.  We should never actually edit the token.  humm....
 --For token we only need update and findall... well lets get those working correctly with the model trigger.
 --EDIT models\token.js Fix URL, fix POST <was PUT>
 --Now fix the controller so the New token does not show.. just do the list view for now
 --EDIT controllers\token_controller and change init view to list view
 --OK... now things are looking better... we might as well add a pick token to the list view and get rid of edit and destroy.
 --EDIT view\token\show.js
 --EDIT contorllers\token_controller.js and add pick click event to trigger model update
 --OK... now we need to have the server generate new boards so we can switch to them.
 --CLICKING the view on the associated board should load that board.  But my new board generator is not right.
 --BEFORE I just had a board gen thing... I would like to auto gen a unique board id and then allow gamebanks to attach.
 --OK... I was using cookies to message the server and looks like I had some issues.
 --http://www.quirksmode.org/js/cookies.html
 --OK... I was sorting out some server side stuff... 
 --Basically the whole messaging with the servers via the cookies I need to review.
 --NOTE: It looks like the javascriptmvc is issues multiple file request... which is messing up my controller stuff
 --I'm getting two sessions started.. I need to fix this but after I get through this once
>>>>>BUG:1 BEGIN
--Mulitple sessions created.
<<<<<BUG:1 END
	Selects game 
--Function is there
	View game
--Function is there but not fully tested
>>>>>BUG:2 BEGIN
--Board not changing view when view clicked.
<<<<<BUG:2 END
>>>>GAME PHASE 3 - Token Selection
	Click on token image
>>>>>BUG:3 BEGIN
--Not using token image yet need to hook up pick change even to board
<<<<<BUG:3 END
	Call to database
--Function is there but not fully tested
	Place request for token
--Function is there but not fully tested
	If token already taken message returned
--Function is there but not fully tested
	If token available moniker is added to screen
--Function is there but not fully tested
>>>>GAME PHASE 4 - Manage Game <Official>
	Selects game like Player
--Function is there but not fully tested
	Official tab shows only for the owner
>>>>>BUG:4 BEGIN
--Need to only display edit for game owner
<<<<<BUG:4 END
	Bottom buttons show <Start Game> <End Game>
	Clicks start game
	Call to database
	Rows/Columns randomized
	Tokens locked from further selection
	Score is adjusted with -/+ button
>>>>>BUG:5 BEGIN
--The above functions need to be implemented
<<<<<BUG:5 END
--This should would but I need to figure out how hook in the events properly
<input type=button value='-' onclick='javascript:process(-1)'>
<input type=test size=10 id='v' name='v' value='0'>
<input type=button value='+' onclick='javascript:process(1)'>
<script language=javascript>
function process(v){
document.getElementById('v').value+=v;
}
</script>
--Found the above http://www.webmasterworld.com/html/3350269.htm
	Game status (innings/quarter)
>>>>GAME PHASE 5 - End Game <Official>
	Selects game like Player
	Official tab shows only for the owner 
	Clicks end game
	Call to database
--HOW??????
	Identify winners
	Notify winners
--HOW?????? 
>>>>>BUG:6 BEGIN
--NEED TO ADD the whole game status stuff.
<<<<<BUG:6 END
--<<<<<<<<<<<<< DONE FOR NOW >>>>>>>>>>>>
--Lets commit this
--SAVE THIS README
C:\Users\ChrisT\workspace\javascriptmvc310>git add .
C:\Users\ChrisT\workspace\javascriptmvc310>git commit -m "STEP 5 - Spools functional gameflow"
C:\Users\ChrisT\workspace\javascriptmvc310>git push origin spools
<<<<<<<<<<<<<<<<<
>>>>>STEP 5 - TEST
<<<<<<<<<<<<<<<<<
Browse - http://js.javascriptmvc305/spools/spools.html
SUCCESS>>
<<<<<<<<<<<<<<<<<
>>>>>STEP 6 - Functional Auto Test using Seleinum
<<<<<<<<<<<<<<<<<
--I want to get some testing in now as I'm hitting lots of buttons to test at this point.
--I probably should do unit test also, but I'd like to get function tests going so I can give Joe and Shayne stuff.
--EDIT spools\test\funcunit\funcunit.js
steal
 .plugins("funcunit")
 .then("spools_test")
 .then("game_controller_test");
 --EDIT spools\test\funcunit\game_controller_test.js
 --Bascially we want to test the game creation process by the Official
>>>>GAME PHASE 1 - Creation <Official>
	Connect via URL http://js.javascriptmvc310/spools/spools.html
	Select a Sport <drop down Baseball Football>
	*Enter name of Away Team (text field)
	*Enter name of Home Team (text field)
	Press Create Game button
--OK got that going.... now that I'm doing this I'm thinking I really need to create
--a gameboard group so everybody has the same gameboard list...
--Heck... for right now I can just have one gameboardlist..
--Make it so..
--EDIT spools\spoolspps\common.php fix the init_newuser
$gamesbankbasename = $theGame["gamesinit"]["filepath"] . $theGame["gamesinit"]["gamegroup"] . $theGame["gamesinit"]["filename"];
--EDIT spools\spoolspps\gameboard.ini
gamegroup = partyplay
--OK... that's working... now on to the view
>>>>GAME PHASE 2 - Join Game
	Connects via URL
	Screen shows a tab titled Join Game 
	Selects game 
	View game
--EDIT spools\spools.js and load the token model and controller AFTER the game model and controller
--EDIT spools\spoolspps\tokens.php to correct error on line 21 <had wrong filename>
--OK... this seems to work... write test that changes and checks view.
>>>>GAME PHASE 3 - Token Selection
	Click on token image
	Call to database
	Place request for token
	If token already taken message returned
	If token available moniker is added to screen
--EDIT spools\test\funcunit\game_controller_test.js to add token click test... had some issue with timing I think.. not sure
>>>>>BUG:7 BEGIN
http://js.javascriptmvc310/spools/funcunit.html
--Test is working but sometimes it hangs on the verification of the game board.
--Not sure what this is but my guess is that it has something to do with the controller event firing.
--I'm guessing this is because of some async events in the controller and test code
<<<<<BUG:7 END
>>>>GAME PHASE 4 - Manage Game <Official>
	Selects game like Player
	Official tab shows only for the owner
	Bottom buttons show <Start Game> <End Game>
	Clicks start game
	Call to database
	Rows/Columns randomized
	Tokens locked from further selection
	Score is adjusted with -/+ buttons
	Game status (innings/quarter)
--OK... crap some of this stuff I've got to think harder about.
--FIRST I'm not going to do the 'offical vs player thing' as a player is just a functionally limited offical.
--SECOND looks like I need game states.  That's fine what are they...
	1-JoinGame <Can StartGame, Can NOT EndGame, {Can pick open tokens}>
	2-StartGame <Can END Game, Can NOT JoinGame, {Can not pick tokens, Can Enter Scores}>
	3-EndGame <Can NOT JoinGame, Can NOT StartGame>
--Lets do this...
--EDIT C:\Users\ChrisT\workspace\javascriptmvc310\spools\spoolspps\gameboard.ini and ADD GameState
GameState = "JoinGame"
--Need to have the game create view default correctly
--Heck... might as well fix the idGameBrd to auto select a uid on New GameBrd
--To do that we edit the init view to set and restrict user
--HECK... lets do this 'TEST DRIVEN'
--We want to verify a new game has gamestate 'JoinGame' and a StartGame Button when generating a new board.
--http://javascriptmvc.com/docs.html#&who=FuncUnit
--http://docs.jquery.com/QUnit
--EDIT C:\Users\ChrisT\workspace\javascriptmvc310\spools\test\funcunit\game_controller_test.js
--Basically I started filling out the test better... checking in code what I checked on the screen.
--You can view the chages by looking at the this commit <STEP 6 - Functional Auto Test using Seleinum> vs last <STEP 5>
--All I did was got between game_controller_test.js and the function test run:
--BROWSE: http://js.javascriptmvc310/spools/funcunit.html
--UNTIL I got things going GREEN and verify what I looked for.
--OK... have some issue with the edit view defaults
--On a NEW GAME form, lets drop the ablity to edit scores and gamestate
--EDIT C:\Users\ChrisT\workspace\javascriptmvc310\spools\views\game\init.ejs and show.ejs
=== I took this out, but want to save for later
        <%} else if ((attribute == 'TeamAScore') || (attribute == 'TeamBScore')) {%>
            <input type='button' value='-' onclick='javascript:process(-1)'>
            <input type='test' value="<%= this[attribute]%>" name="<%= attribute%>"/>
            <input type='button' value='+' onclick='javascript:process(1)'>
        <%} else {%>
=== May want to use this when display in the StartGame state
--OK got that working, but still having some issues...
--Looks like when the models are loading they both request and start 2 different sessions..
--CRAP...
--ALSO... somehow the code is setting the idGameBrd cookie and I don't think it should know that..
--THIS is I think is BUG 7 related... the controllers getting messed up initially.
--Funny thing when I do it manually I get the expected update
--Well hell... just do that in the setup to see if that fixes the issue...
--In the setup of the test when we distroy and reset click the view of the board 0 and wait for board to get it
--HUMM... something is wron with nuke I think... check it out..
--OK... I had messed up cookie clearing I think...
--http://www.phpfreaks.com/forums/index.php?PHPSESSID=66njp4nmc51mqvkhu0k1bl1sd5&topic=223785.15
--ALSO see C:\Users\ChrisT\workspace\javascriptmvc310\spools\docs\CAT_PHP_COOKIES_SETANDCLEAR.txt
--Well that takes care of the boardid issue... but I'm still getting to request with multiple sessions..
--Hummm... maybe I should use nuke http://js.javascriptmvc310/spools/spoolspps/nukecookieandsession.php to start the new session...
--Yea... lets do that because it kink of will simulate a login which we will need to do at some point.
--THAT works... basically I'm using the nuke to get the session crap going right..
--Well test runs fine now but still getting the issue with adding the 3rd 
--AFTER HOURS of testing and poking... I think I need to deal with the gameboard 
--WOW... damb thing was a 'value' vs "value" in the view... 
--WOW... MORE LOTS OF TIME messing with cookies, clearing cookies... messing with the token table
--I FORGOT where the heck we are...
--OH.. attempting to get token testing going
--HOLLY CRAP... I just need to sync this... we will continue in next step.
--RIGHT now all the test run but I commented out what I was doing with the token and user ID checks.
--BROWSE: http://js.javascriptmvc310/spools/funcunit.html
------------------------------------------------------------- BLAH 
--Lets commit this
--SAVE THIS README
C:\Users\ChrisT\workspace\javascriptmvc310>git add -u
C:\Users\ChrisT\workspace\javascriptmvc310>git add .
C:\Users\ChrisT\workspace\javascriptmvc310>git commit -m "STEP 6 - Functional Auto Test using Seleinum or QUnit"
C:\Users\ChrisT\workspace\javascriptmvc310>git push origin spools
<<<<<<<<<<<<<<<<<
>>>>>STEP 6 - TEST
<<<<<<<<<<<<<<<<<
Browse - http://js.javascriptmvc310/spools/funcunit.html
SUCCESS>>TEST RUN WOOHOO...
======================================================================================
------- copy buffer --------------
?????????????????????????????????
<<<<<<<<<<<<<<<<<
>>>>>STEP x - <step subject>
<<<<<<<<<<<<<<<<<
--WHAT the heck to do next... how about blahblah
--Lets commit this
--SAVE THIS README
C:\Users\ChrisT\workspace\javascriptmvc310>git add .
C:\Users\ChrisT\workspace\javascriptmvc310>git commit -m "blah blah"
C:\Users\ChrisT\workspace\javascriptmvc310>git push origin spools
[cat@gator1209 ~/public_html/javascriptmvc310]$ git fetch
[cat@gator1209 ~/public_html/javascriptmvc310]$ rm gamebrdbank.spools
[cat@gator1209 ~/public_html/javascriptmvc310]$ git checkout remotes/origin/spools
<<<<<<<<<<<<<<<<<
>>>>>STEP x - TEST
<<<<<<<<<<<<<<<<<
Browse - http://js.javascriptmvc310/spools/spools.html
SUCCESS>>
?FAILURE>>
??WHAT?>>
???????????????????????????????????????
>>>>>UNUSED / NEXT BUG ID BIN<<<<<
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
+++++BUG:1 STATUS-> OPEN
+++++BUG:2 STATUS-> OPEN
+++++BUG:3 STATUS-> OPEN
+++++BUG:4 STATUS-> OPEN
+++++BUG:5 STATUS-> OPEN
+++++BUG:6 STATUS-> OPEN
+++++BUG:7 STATUS-> OPEN
+++++BUG:8 STATUS-> OPEN
>>>>>BUG:8 BEGIN
<<<<<BUG:8 END
+++++BUG:9 STATUS-> OPEN
>>>>>BUG:9 BEGIN
<<<<<BUG:9 END